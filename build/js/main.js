(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
module.exports={
    "af": {
        "en": "Afrikaans",
        "name": "Afrikaans",
        "rtl": false
    },
    "ar": {
        "en": "Arabic",
        "name": "عربى",
        "rtl": true
    },
    "bn": {
        "en": "Bengali",
        "name": "বাংলা",
        "rtl": false
    },
    "bo": {
        "en": "Tibetan",
        "name": "བོད་སྐད་",
        "rtl": true
    },
    "ca": {
        "en": "Catalan",
        "name": "Català",
        "rtl": false
    },
    "ch": {
        "en": "Chamorro",
        "name": "Chamoru",
        "rtl": false
    },
    "ce": {
        "en": "Chechen",
        "name": "Нохчийн",
        "rtl": false
    },
    "cs": {
        "en": "Czech",
        "name": "Čeština",
        "rtl": false
    },
    "cy": {
        "en": "Welsh",
        "name": "Cymraeg",
        "rtl": false
    },
    "da": {
        "en": "Danish",
        "name": "Dansk",
        "rtl": false
    },
    "de": {
        "en": "German",
        "name": "Deutsche",
        "rtl": false
    },
    "eu": {
        "en": "Basque",
        "name": "Euskara",
        "rtl": false
    },
    "hr": {
        "en": "Croatian",
        "name": "Hrvatski",
        "rtl": false
    },
    "bg": {
        "en": "Bulgarian",
        "name": "Български",
        "rtl": false
    },
    "el": {
        "en": "Greek",
        "name": "Ελληνικά",
        "rtl": false
    },
    "en": {
        "en": "English",
        "name": "English",
        "rtl": false
    },
    "es": {
        "en": "Spanish",
        "name": "Español",
        "rtl": false
    },
    "et": {
        "en": "Estonian",
        "name": "Eesti",
        "rtl": false
    },
    "fa": {
        "en": "Farsi | Persian",
        "name": "ﻯﺭﺩ | دری",
        "rtl": false
    },
    "fi": {
        "en": "Finnish",
        "name": "Suomi",
        "rtl": false
    },
    "fr": {
        "en": "French",
        "name": "Français",
        "rtl": false
    },
    "ga": {
        "en": "Irish",
        "name": "Gaeilge",
        "rtl": false
    },
    "he": {
        "en": "Hebrew",
        "name": "עִבְרִית",
        "rtl": false
    },
    "hi": {
        "en": "Hindi",
        "name": "हिंदी",
        "rtl": false
    },
    "ht": {
        "en": "Haitian Creole",
        "name": "kreyòl",
        "rtl": false
    },
    "id": {
        "en": "Indonesian",
        "name": "Bahasa Indonesia",
        "rtl": false
    },
    "is": {
        "en": "Icelandic",
        "name": "Íslenska",
        "rtl": false
    },
    "it": {
        "en": "Italian",
        "name": "Italiano",
        "rtl": false
    },
    "ja": {
        "en": "Japanese",
        "name": "日本語",
        "rtl": false
    },
    "jv": {
        "en": "Javanese",
        "name": "basa Jawa",
        "rtl": false
    },
    "ko": {
        "en": "Korean",
        "name": "한국어",
        "rtl": false
    },
    "ku": {
        "en": "Kurdish",
        "name": "kurmancî",
        "rtl": false
    },
    "lt": {
        "en": "Lithuanian",
        "name": "Lietuviškai",
        "rtl": false
    },
    "lv": {
        "en": "Latvian",
        "name": "Latviešu",
        "rtl": false
    },
    "mn": {
        "en": "Mongolian",
        "name": "Монгол хэл",
        "rtl": false
    },
    "ms": {
        "en": "Malay",
        "name": "Bahasa Melayu",
        "rtl": false
    },
    "my": {
        "en": "Burmese",
        "name": "မြန်မာ",
        "rtl": false
    },
    "ne": {
        "en": "Nepali",
        "name": "नेपाली",
        "rtl": false
    },
    "nl": {
        "en": "Dutch/Flemish",
        "name": "",
        "rtl": false
    },
    "no": {
        "en": "Norwegian",
        "name": "norsk",
        "rtl": false
    },
    "pa": {
        "en": "Punjabi",
        "name": "ਪੰਜਾਬੀ",
        "rtl": false
    },
    "pi": {
        "en": "Pali",
        "name": "पािळ",
        "rtl": false
    },
    "pl": {
        "en": "Polish",
        "name": "Polski",
        "rtl": false
    },
    "pt": {
        "en": "Portuguese",
        "name": "Português",
        "rtl": false
    },
    "ro": {
        "en": "Romanian",
        "name": "Româneşte",
        "rtl": false
    },
    "ru": {
        "en": "Russian",
        "name": "Русский",
        "rtl": false
    },
    "sk": {
        "en": "Slovak",
        "name": "Slovenčina",
        "rtl": false
    },
    "sv": {
        "en": "Swedish",
        "name": "Svenska",
        "rtl": false
    },
    "sw": {
        "en": "Swahili",
        "name": "kiSwahili",
        "rtl": false
    },
    "ta": {
        "en": "Tamil",
        "name": "தமிழ்",
        "rtl": false
    },
    "tl": {
        "en": "Tagalog",
        "name": "Tagalog",
        "rtl": false
    },
    "tr": {
        "en": "Turkish",
        "name": "Türkçe",
        "rtl": false
    },
    "ty": {
        "en": "Tahitian",
        "name": "te reo Tahiti",
        "rtl": false
    },
    "uk": {
        "en": "Ukrainian",
        "name": "Українська",
        "rtl": false
    },
    "ur": {
        "en": "Urdu",
        "name": "اُردو",
        "rtl": false
    },
    "vi": {
        "en": "Vietnamese",
        "name": "Tiếng Việt",
        "rtl": false
    },
    "zh": {
        "en": "Chinese",
        "name": "中文",
        "rtl": false
    },
    "zu": {
        "en": "Zulu",
        "name": "isiZulu",
        "rtl": false
    }
}
},{}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// returns obj with word count function and count result
// if workers supported, fn sends text to worker to count
// else just runs on main thread
/**
 * @param {function} cb callback to signal when count result is ready
 * @return {Object} counter
 * @return {function(string)} counter.count - word count funtion
 * @return {number} counter.result - result of count function
 */
function getCounter(cb) {
    var counter = {
        result: 0,
        count: null
    };
    if (window.hasOwnProperty("Worker")) {
        console.log("starting worker");
        let worker = new Worker("js/worker.js");
        worker.onmessage = function (e) {
            counter.result = e.data;
            cb();
        };
        counter.count = function (text) {
            worker.postMessage(text);
        };
    }
    else {
        console.log("WebWorker not supported. Running count on main thread.");
        var str = '';
        function asyncCount() {
            counter.result = str.match(/\w+/gm).length;
            cb();
        }
        counter.count = function (text) {
            str = text;
            setTimeout(asyncCount, 0);
        };
    }
    return counter;
}
exports.getCounter = getCounter;
},{}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const languageData = require("../data/languages.json");
// navigator.language isn't standardized so checking possible values
// defaulting to English if no language detected
var language = (navigator.language ||
    navigator["userLanguage"] ||
    navigator["browserLanguage"] ||
    navigator["systemLanguage"] ||
    "en"
// only keep the first 2 letters if longer than 2 chars
).substring(0, 2);
function getLanguage() {
    return language;
}
exports.getLanguage = getLanguage;
/**
 * set language via select element
 * @param lang new language code
 * @return true if language change requires a dom update
 */
function setLanguage(lang) {
    var requiresUpdate = false;
    if (language != lang) {
        requiresUpdate = languageData[language].rtl !== languageData[lang].rtl;
        language = lang;
    }
    return requiresUpdate;
}
exports.setLanguage = setLanguage;
function getLangDirection() {
    return languageData[language].rtl ? "rtl" : "ltr";
}
exports.getLangDirection = getLangDirection;
},{"../data/languages.json":1}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const countwords_1 = require("./countwords");
const language_1 = require("./language");
const textEl = document.getElementById("inputfield");
const countEl = document.getElementById("wordcount");
const languageSelectEl = document.getElementById("languageSelect");
const counter = countwords_1.getCounter(onCountUpdate);
var inputChanged = false;
var countChanged = false;
var languageChanged = false;
languageSelectEl.value = language_1.getLanguage();
textEl.addEventListener("keydown", onInputChange, false);
textEl.addEventListener("change", onInputChange, false);
languageSelectEl.addEventListener("change", function (event) {
    languageChanged = language_1.setLanguage(languageSelectEl.value);
}, false);
// flag input change on keydown and change events
// wait til next animation frame to count
function onInputChange(event) {
    inputChanged = true;
}
function onCountUpdate() {
    countChanged = true;
}
// read text if input changed
// update counter if count changed
// called once per animation frame
function applyChanges() {
    if (inputChanged) {
        let str = textEl.value;
        // if at least 1 non-space character
        if (/\S/gm.test(str)) {
            counter.count(str);
        }
        // if text box is empty but previous count > 0
        else if (counter.result) {
            counter.result = 0;
            countChanged = true;
        }
    }
    // update counter text
    if (countChanged) {
        countChanged = false;
        countEl.innerText = '' + counter.result;
    }
    if (languageChanged) {
        textEl.style.direction = language_1.getLangDirection();
    }
}
// animation loop
function mainLoop() {
    requestAnimationFrame(mainLoop);
    applyChanges();
}
requestAnimationFrame(mainLoop);
},{"./countwords":2,"./language":3}]},{},[4])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvZGF0YS9sYW5ndWFnZXMuanNvbiIsInNyYy9qcy9jb3VudHdvcmRzLnRzIiwic3JjL2pzL2xhbmd1YWdlLnRzIiwic3JjL2pzL21haW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QXFCLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDaEMsWUFBWSxFQUFFLENBQUM7QUFDbkIsQ0FBQztBQUNELHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwibW9kdWxlLmV4cG9ydHM9e1xyXG4gICAgXCJhZlwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIkFmcmlrYWFuc1wiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIkFmcmlrYWFuc1wiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJhclwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIkFyYWJpY1wiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIti52LHYqNmJXCIsXHJcbiAgICAgICAgXCJydGxcIjogdHJ1ZVxyXG4gICAgfSxcclxuICAgIFwiYm5cIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJCZW5nYWxpXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwi4Kas4Ka+4KaC4Kay4Ka+XCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcImJvXCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiVGliZXRhblwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIuC9luC9vOC9keC8i+C9puC+kOC9keC8i1wiLFxyXG4gICAgICAgIFwicnRsXCI6IHRydWVcclxuICAgIH0sXHJcbiAgICBcImNhXCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiQ2F0YWxhblwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIkNhdGFsw6BcIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwiY2hcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJDaGFtb3Jyb1wiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIkNoYW1vcnVcIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwiY2VcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJDaGVjaGVuXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwi0J3QvtGF0YfQuNC50L1cIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwiY3NcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJDemVjaFwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIsSMZcWhdGluYVwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJjeVwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIldlbHNoXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwiQ3ltcmFlZ1wiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJkYVwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIkRhbmlzaFwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIkRhbnNrXCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcImRlXCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiR2VybWFuXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwiRGV1dHNjaGVcIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwiZXVcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJCYXNxdWVcIixcclxuICAgICAgICBcIm5hbWVcIjogXCJFdXNrYXJhXCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcImhyXCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiQ3JvYXRpYW5cIixcclxuICAgICAgICBcIm5hbWVcIjogXCJIcnZhdHNraVwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJiZ1wiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIkJ1bGdhcmlhblwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcItCR0YrQu9Cz0LDRgNGB0LrQuFwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJlbFwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIkdyZWVrXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwizpXOu867zrfOvc65zrrOrFwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJlblwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIkVuZ2xpc2hcIixcclxuICAgICAgICBcIm5hbWVcIjogXCJFbmdsaXNoXCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcImVzXCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiU3BhbmlzaFwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIkVzcGHDsW9sXCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcImV0XCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiRXN0b25pYW5cIixcclxuICAgICAgICBcIm5hbWVcIjogXCJFZXN0aVwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJmYVwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIkZhcnNpIHwgUGVyc2lhblwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIu+7r++6re+6qSB8INiv2LHbjFwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJmaVwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIkZpbm5pc2hcIixcclxuICAgICAgICBcIm5hbWVcIjogXCJTdW9taVwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJmclwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIkZyZW5jaFwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIkZyYW7Dp2Fpc1wiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJnYVwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIklyaXNoXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwiR2FlaWxnZVwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJoZVwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIkhlYnJld1wiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcItei1rTXkdaw16jWtNeZ16pcIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwiaGlcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJIaW5kaVwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIuCkueCkv+CkguCkpuClgFwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJodFwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIkhhaXRpYW4gQ3Jlb2xlXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwia3JlecOybFwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJpZFwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIkluZG9uZXNpYW5cIixcclxuICAgICAgICBcIm5hbWVcIjogXCJCYWhhc2EgSW5kb25lc2lhXCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcImlzXCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiSWNlbGFuZGljXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwiw41zbGVuc2thXCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcIml0XCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiSXRhbGlhblwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIkl0YWxpYW5vXCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcImphXCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiSmFwYW5lc2VcIixcclxuICAgICAgICBcIm5hbWVcIjogXCLml6XmnKzoqp5cIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwianZcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJKYXZhbmVzZVwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcImJhc2EgSmF3YVwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJrb1wiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIktvcmVhblwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIu2VnOq1reyWtFwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJrdVwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIkt1cmRpc2hcIixcclxuICAgICAgICBcIm5hbWVcIjogXCJrdXJtYW5jw65cIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwibHRcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJMaXRodWFuaWFuXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwiTGlldHV2acWha2FpXCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcImx2XCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiTGF0dmlhblwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIkxhdHZpZcWhdVwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJtblwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIk1vbmdvbGlhblwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcItCc0L7QvdCz0L7QuyDRhdGN0LtcIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwibXNcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJNYWxheVwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIkJhaGFzYSBNZWxheXVcIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwibXlcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJCdXJtZXNlXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwi4YCZ4YC84YCU4YC64YCZ4YCsXCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcIm5lXCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiTmVwYWxpXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwi4KSo4KWH4KSq4KS+4KSy4KWAXCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcIm5sXCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiRHV0Y2gvRmxlbWlzaFwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIlwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJub1wiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIk5vcndlZ2lhblwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIm5vcnNrXCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcInBhXCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiUHVuamFiaVwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIuCoquCpsOConOCovuCorOCpgFwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJwaVwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIlBhbGlcIixcclxuICAgICAgICBcIm5hbWVcIjogXCLgpKrgpL7gpL/gpLNcIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwicGxcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJQb2xpc2hcIixcclxuICAgICAgICBcIm5hbWVcIjogXCJQb2xza2lcIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwicHRcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJQb3J0dWd1ZXNlXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwiUG9ydHVndcOqc1wiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJyb1wiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIlJvbWFuaWFuXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwiUm9tw6JuZcWfdGVcIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwicnVcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJSdXNzaWFuXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwi0KDRg9GB0YHQutC40LlcIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwic2tcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJTbG92YWtcIixcclxuICAgICAgICBcIm5hbWVcIjogXCJTbG92ZW7EjWluYVwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJzdlwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIlN3ZWRpc2hcIixcclxuICAgICAgICBcIm5hbWVcIjogXCJTdmVuc2thXCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcInN3XCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiU3dhaGlsaVwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcImtpU3dhaGlsaVwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJ0YVwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIlRhbWlsXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwi4K6k4K6u4K6/4K604K+NXCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcInRsXCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiVGFnYWxvZ1wiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIlRhZ2Fsb2dcIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwidHJcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJUdXJraXNoXCIsXHJcbiAgICAgICAgXCJuYW1lXCI6IFwiVMO8cmvDp2VcIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwidHlcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJUYWhpdGlhblwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcInRlIHJlbyBUYWhpdGlcIixcclxuICAgICAgICBcInJ0bFwiOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFwidWtcIjoge1xyXG4gICAgICAgIFwiZW5cIjogXCJVa3JhaW5pYW5cIixcclxuICAgICAgICBcIm5hbWVcIjogXCLQo9C60YDQsNGX0L3RgdGM0LrQsFwiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJ1clwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIlVyZHVcIixcclxuICAgICAgICBcIm5hbWVcIjogXCLYp9mP2LHYr9mIXCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcInZpXCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiVmlldG5hbWVzZVwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIlRp4bq/bmcgVmnhu4d0XCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH0sXHJcbiAgICBcInpoXCI6IHtcclxuICAgICAgICBcImVuXCI6IFwiQ2hpbmVzZVwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIuS4reaWh1wiLFxyXG4gICAgICAgIFwicnRsXCI6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgXCJ6dVwiOiB7XHJcbiAgICAgICAgXCJlblwiOiBcIlp1bHVcIixcclxuICAgICAgICBcIm5hbWVcIjogXCJpc2ladWx1XCIsXHJcbiAgICAgICAgXCJydGxcIjogZmFsc2VcclxuICAgIH1cclxufSIsIi8vIHJldHVybnMgb2JqIHdpdGggd29yZCBjb3VudCBmdW5jdGlvbiBhbmQgY291bnQgcmVzdWx0XHJcbi8vIGlmIHdvcmtlcnMgc3VwcG9ydGVkLCBmbiBzZW5kcyB0ZXh0IHRvIHdvcmtlciB0byBjb3VudFxyXG4vLyBlbHNlIGp1c3QgcnVucyBvbiBtYWluIHRocmVhZFxyXG4vKipcclxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgY2FsbGJhY2sgdG8gc2lnbmFsIHdoZW4gY291bnQgcmVzdWx0IGlzIHJlYWR5XHJcbiAqIEByZXR1cm4ge09iamVjdH0gY291bnRlclxyXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihzdHJpbmcpfSBjb3VudGVyLmNvdW50IC0gd29yZCBjb3VudCBmdW50aW9uXHJcbiAqIEByZXR1cm4ge251bWJlcn0gY291bnRlci5yZXN1bHQgLSByZXN1bHQgb2YgY291bnQgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3VudGVyIChjYikge1xyXG4gICAgdmFyIGNvdW50ZXIgPSB7XHJcbiAgICAgICAgcmVzdWx0OiAwLFxyXG4gICAgICAgIGNvdW50OiBudWxsXHJcbiAgICB9O1xyXG4gICAgaWYgKHdpbmRvdy5oYXNPd25Qcm9wZXJ0eShcIldvcmtlclwiKSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic3RhcnRpbmcgd29ya2VyXCIpO1xyXG4gICAgICAgIGxldCB3b3JrZXIgPSBuZXcgV29ya2VyKFwianMvd29ya2VyLmpzXCIpO1xyXG4gICAgICAgIHdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjb3VudGVyLnJlc3VsdCA9IGUuZGF0YTtcclxuICAgICAgICAgICAgY2IoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvdW50ZXIuY291bnQgPSBmdW5jdGlvbiAodGV4dDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh0ZXh0KTtcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIldlYldvcmtlciBub3Qgc3VwcG9ydGVkLiBSdW5uaW5nIGNvdW50IG9uIG1haW4gdGhyZWFkLlwiKVxyXG4gICAgICAgIHZhciBzdHIgPSAnJztcclxuICAgICAgICBmdW5jdGlvbiBhc3luY0NvdW50ICgpIHtcclxuICAgICAgICAgICAgY291bnRlci5yZXN1bHQgPSBzdHIubWF0Y2goL1xcdysvZ20pLmxlbmd0aDtcclxuICAgICAgICAgICAgY2IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY291bnRlci5jb3VudCA9IGZ1bmN0aW9uICh0ZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgc3RyID0gdGV4dDtcclxuICAgICAgICAgICAgc2V0VGltZW91dChhc3luY0NvdW50LCAwKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvdW50ZXI7XHJcbn0iLCJkZWNsYXJlIGZ1bmN0aW9uIHJlcXVpcmUodXJsOiBzdHJpbmcpO1xyXG5jb25zdCBsYW5ndWFnZURhdGEgPSByZXF1aXJlKFwiLi4vZGF0YS9sYW5ndWFnZXMuanNvblwiKTtcclxuXHJcbi8vIG5hdmlnYXRvci5sYW5ndWFnZSBpc24ndCBzdGFuZGFyZGl6ZWQgc28gY2hlY2tpbmcgcG9zc2libGUgdmFsdWVzXHJcbi8vIGRlZmF1bHRpbmcgdG8gRW5nbGlzaCBpZiBubyBsYW5ndWFnZSBkZXRlY3RlZFxyXG52YXIgbGFuZ3VhZ2UgPSAobmF2aWdhdG9yLmxhbmd1YWdlIHx8XHJcbiAgICAgICAgbmF2aWdhdG9yW1widXNlckxhbmd1YWdlXCJdIHx8XHJcbiAgICAgICAgbmF2aWdhdG9yW1wiYnJvd3Nlckxhbmd1YWdlXCJdIHx8XHJcbiAgICAgICAgbmF2aWdhdG9yW1wic3lzdGVtTGFuZ3VhZ2VcIl0gfHxcclxuICAgICAgICBcImVuXCJcclxuICAgIC8vIG9ubHkga2VlcCB0aGUgZmlyc3QgMiBsZXR0ZXJzIGlmIGxvbmdlciB0aGFuIDIgY2hhcnNcclxuICAgICkuc3Vic3RyaW5nKDAsMik7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFuZ3VhZ2UgKCkgOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGxhbmd1YWdlO1xyXG59XHJcblxyXG4vKipcclxuICogc2V0IGxhbmd1YWdlIHZpYSBzZWxlY3QgZWxlbWVudFxyXG4gKiBAcGFyYW0gbGFuZyBuZXcgbGFuZ3VhZ2UgY29kZVxyXG4gKiBAcmV0dXJuIHRydWUgaWYgbGFuZ3VhZ2UgY2hhbmdlIHJlcXVpcmVzIGEgZG9tIHVwZGF0ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldExhbmd1YWdlIChsYW5nOiBzdHJpbmcpIDogYm9vbGVhbiB7XHJcbiAgICB2YXIgcmVxdWlyZXNVcGRhdGUgPSBmYWxzZTtcclxuICAgIGlmIChsYW5ndWFnZSAhPSBsYW5nKSB7XHJcbiAgICAgICAgcmVxdWlyZXNVcGRhdGUgPSBsYW5ndWFnZURhdGFbbGFuZ3VhZ2VdLnJ0bCAhPT0gbGFuZ3VhZ2VEYXRhW2xhbmddLnJ0bDtcclxuICAgICAgICBsYW5ndWFnZSA9IGxhbmc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVxdWlyZXNVcGRhdGU7ICAgIFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFuZ0RpcmVjdGlvbiAoKSA6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gbGFuZ3VhZ2VEYXRhW2xhbmd1YWdlXS5ydGwgPyBcInJ0bFwiIDogXCJsdHJcIjtcclxufSIsImltcG9ydCB7IGdldENvdW50ZXIgfSBmcm9tIFwiLi9jb3VudHdvcmRzXCI7XHJcbmltcG9ydCB7IGdldExhbmd1YWdlLFxyXG4gICAgc2V0TGFuZ3VhZ2UsXHJcbiAgICBnZXRMYW5nRGlyZWN0aW9uIH0gZnJvbSBcIi4vbGFuZ3VhZ2VcIjtcclxuXHJcbmNvbnN0IHRleHRFbCA9IDxIVE1MVGV4dEFyZWFFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0ZmllbGRcIik7XHJcbmNvbnN0IGNvdW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndvcmRjb3VudFwiKTtcclxuY29uc3QgbGFuZ3VhZ2VTZWxlY3RFbCA9IDxIVE1MU2VsZWN0RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYW5ndWFnZVNlbGVjdFwiKTtcclxuY29uc3QgY291bnRlciA9IGdldENvdW50ZXIob25Db3VudFVwZGF0ZSk7XHJcblxyXG52YXIgaW5wdXRDaGFuZ2VkID0gZmFsc2U7XHJcbnZhciBjb3VudENoYW5nZWQgPSBmYWxzZTtcclxudmFyIGxhbmd1YWdlQ2hhbmdlZCA9IGZhbHNlO1xyXG5cclxubGFuZ3VhZ2VTZWxlY3RFbC52YWx1ZSA9IGdldExhbmd1YWdlKCk7XHJcblxyXG50ZXh0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25JbnB1dENoYW5nZSwgZmFsc2UpO1xyXG50ZXh0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBvbklucHV0Q2hhbmdlLCBmYWxzZSk7XHJcbmxhbmd1YWdlU2VsZWN0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGxhbmd1YWdlQ2hhbmdlZCA9IHNldExhbmd1YWdlKGxhbmd1YWdlU2VsZWN0RWwudmFsdWUpO1xyXG59LCBmYWxzZSk7XHJcblxyXG4vLyBmbGFnIGlucHV0IGNoYW5nZSBvbiBrZXlkb3duIGFuZCBjaGFuZ2UgZXZlbnRzXHJcbi8vIHdhaXQgdGlsIG5leHQgYW5pbWF0aW9uIGZyYW1lIHRvIGNvdW50XHJcbmZ1bmN0aW9uIG9uSW5wdXRDaGFuZ2UgKGV2ZW50KSB7XHJcbiAgICBpbnB1dENoYW5nZWQgPSB0cnVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbkNvdW50VXBkYXRlICgpIHtcclxuICAgIGNvdW50Q2hhbmdlZCA9IHRydWU7XHJcbn1cclxuXHJcbi8vIHJlYWQgdGV4dCBpZiBpbnB1dCBjaGFuZ2VkXHJcbi8vIHVwZGF0ZSBjb3VudGVyIGlmIGNvdW50IGNoYW5nZWRcclxuLy8gY2FsbGVkIG9uY2UgcGVyIGFuaW1hdGlvbiBmcmFtZVxyXG5mdW5jdGlvbiBhcHBseUNoYW5nZXMgKCkge1xyXG4gICAgaWYgKGlucHV0Q2hhbmdlZCkge1xyXG4gICAgICAgIGxldCBzdHIgPSB0ZXh0RWwudmFsdWU7XHJcbiAgICAgICAgLy8gaWYgYXQgbGVhc3QgMSBub24tc3BhY2UgY2hhcmFjdGVyXHJcbiAgICAgICAgaWYgKC9cXFMvZ20udGVzdChzdHIpKSB7XHJcbiAgICAgICAgICAgIGNvdW50ZXIuY291bnQoc3RyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgdGV4dCBib3ggaXMgZW1wdHkgYnV0IHByZXZpb3VzIGNvdW50ID4gMFxyXG4gICAgICAgIGVsc2UgaWYgKGNvdW50ZXIucmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGNvdW50ZXIucmVzdWx0ID0gMDtcclxuICAgICAgICAgICAgY291bnRDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyB1cGRhdGUgY291bnRlciB0ZXh0XHJcbiAgICBpZiAoY291bnRDaGFuZ2VkKSB7XHJcbiAgICAgICAgY291bnRDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgY291bnRFbC5pbm5lclRleHQgPSAnJyArIGNvdW50ZXIucmVzdWx0O1xyXG4gICAgfVxyXG4gICAgaWYgKGxhbmd1YWdlQ2hhbmdlZCkge1xyXG4gICAgICAgIHRleHRFbC5zdHlsZS5kaXJlY3Rpb24gPSBnZXRMYW5nRGlyZWN0aW9uKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGFuaW1hdGlvbiBsb29wXHJcbmZ1bmN0aW9uIG1haW5Mb29wICgpIHtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShtYWluTG9vcCk7XHJcbiAgICBhcHBseUNoYW5nZXMoKTtcclxufVxyXG5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobWFpbkxvb3ApOyJdfQ==
